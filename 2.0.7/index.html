<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Bud Byrd">
<meta name="copyright" content="Apache License, Version 2.0">
<title>HTTP Requests Library Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>HTTP Requests Library Documentation</h1>
<div class="details">
<span id="author" class="author">Bud Byrd</span><br>
<span id="revnumber">version 2.0.7</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_installing">2. Installing</a></li>
<li><a href="#_components">3. Components</a>
<ul class="sectlevel2">
<li><a href="#_entityconvertermanager">3.1. EntityConverterManager</a></li>
<li><a href="#_httpclientfactory">3.2. HttpClientFactory</a></li>
<li><a href="#_httprequest">3.3. HttpRequest</a></li>
<li><a href="#_httpentity">3.4. HttpEntity</a></li>
<li><a href="#_httpclient">3.5. HttpClient</a></li>
<li><a href="#_handling_responses">3.6. Handling Responses</a></li>
</ul>
</li>
<li><a href="#_filters">4. Filters</a>
<ul class="sectlevel2">
<li><a href="#_requestfilter">4.1. RequestFilter</a></li>
<li><a href="#_outputstreamfilter">4.2. OutputStreamFilter</a></li>
<li><a href="#_httpclientresponsefilter">4.3. HttpClientResponseFilter</a></li>
<li><a href="#_retryfilter">4.4. RetryFilter</a></li>
<li><a href="#_lifecyclefilter">4.5. LifecycleFilter</a></li>
<li><a href="#_built_in_filters">4.6. Built-In Filters</a></li>
</ul>
</li>
<li><a href="#_entity_converters">5. Entity Converters</a>
<ul class="sectlevel2">
<li><a href="#_entity_readers">5.1. Entity Readers</a></li>
<li><a href="#_entity_writers">5.2. Entity Writers</a></li>
<li><a href="#_built_in_converters">5.3. Built-In Converters</a></li>
<li><a href="#_jackson_converters">5.4. Jackson Converters</a></li>
<li><a href="#_groovy_converters">5.5. Groovy Converters</a></li>
</ul>
</li>
<li><a href="#_spring_boot_integration">6. Spring Boot Integration</a></li>
<li><a href="#_examples">7. Examples</a>
<ul class="sectlevel2">
<li><a href="#_using_the_library">7.1. Using the Library</a></li>
<li><a href="#_using_spring_integration">7.2. Using Spring Integration</a></li>
<li><a href="#_additional_samples">7.3. Additional Samples</a></li>
</ul>
</li>
<li><a href="#_testing">8. Testing</a>
<ul class="sectlevel2">
<li><a href="#_request_mocks">8.1. Request Mocks</a></li>
<li><a href="#_mockhttpclientfactory">8.2. MockHttpClientFactory</a></li>
<li><a href="#_example">8.3. Example</a></li>
</ul>
</li>
<li><a href="#_changelog">9. Changelog</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The HTTP Requests library provides a clean and simplified interface to make HTTP requests.</p>
</div>
<div class="paragraph">
<p>The spirit of this library is to make it trivial to do easy things with HTTP requests. It can accomplish the most
common use cases for an HTTP client, but does not aim to be a complete HTTP client implementation.</p>
</div>
<div class="paragraph">
<p>At its core, the library defines a framework for making requests. A built-in implementation of this framework based on
Java&#8217;s built-in HTTP classes is included to make the library extremely lightweight, with its only external dependency
being SLF4J. There are also several providers available that use popular HTTP client libraries, such as Jersey and
Apache HTTP Components Client. When one of these providers is used, the library serves as a facade, making the use of
these popular libraries much easier and your code more concise.</p>
</div>
<div class="paragraph">
<p>Indeed, the driving philosophy behind this project is to serve as a facade for HTTP requests, so that library authors
may perform HTTP operations without dictating what HTTP library is required, much like SLF4J does for logging.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing">2. Installing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The library is split into several libraries, which can all be found on <a href="https://bintray.com/bintray/jcenter">jCenter</a>
and <a href="https://search.maven.org">Maven Central</a>. The library contains a core module, which contains the interfaces and base
implementations of the library. There are also libraries that provide support for popular HTTP client libraries, as well
as various extensions that provide additional functionality. The table below lists out all of the libraries that exist
for the HTTP Requests library and what their purposes are.</p>
</div>
<table class="tableblock frame-all grid-rows stretch">
<caption class="title">Table 1. HTTP Requests Library Modules</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Module</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-bom</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A bill-of-materials POM for all libraries.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-core</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains the core interfaces of the library, in addition to a built-in HTTP
                                          client implementation built on top of Java&#8217;s <code>HttpURLConnection</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-jersey1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds support for Jersey 1.x.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-jersey2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds support for Jersey 2.x.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-httpcomponents-client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds support for Apache HttpComponents Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-jackson</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds entity converters for <code>Map</code> and <code>List</code> types using the Jackson library.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-spring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables automatic configuration of the HTTP requests components as Spring
                                          beans.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-groovy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds Groovy DSLs to the library and Groovy-specific entity converters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http-requests-mock</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds support for mocking HTTP requests in unit tests.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
All modules are deployed under the group <code>com.budjb</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As an example, opting to add Jersey 2.x support and Jackson converters, Gradle might be configured like below:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">apply plugin: "java"

repositories {
    mavenCentral()
}

dependencies {
    compile "com.budjb:http-requests-jersey2:2.0.7"
    compile "com.budjb:http-requests-jackson:2.0.7"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additionally, the bill of materials POM is available to keep dependencies in sync without the need to specify
their version numbers.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "io.spring.gradle:dependency-management-plugin:1.0.6.RELEASE"
    }
}

apply plugin: "java"
apply plugin: "io.spring.dependency-management"

repositories {
    mavenCentral()
}

dependencyManagement {
    imports { mavenBom "com.budjb:http-requests-bom:2.0.7" }
}

dependencies {
    compile "com.budjb:http-requests-jersey2"
    compile "com.budjb:http-requests-jackson"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_components">3. Components</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_entityconvertermanager">3.1. EntityConverterManager</h3>
<div class="paragraph">
<p>The <code>EntityConverterManager</code> serves as both a place to aggregate entity converters and as an entry point to object
marshalling.</p>
</div>
<div class="listingblock">
<div class="title">Example Usage</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">EntityConverterManager converterManager = new EntityConverterManager();

converterManager.add(new ExampleWriter());
converterManager.add(new ExampleReader());</code></pre>
</div>
</div>
<div class="paragraph">
<p>The converter manager may be used directly to marshal objects to and from <code>InputStream</code> instances, but it is intended
to be a support component of <code>HttpClient</code>. Therefore, the converter manager is a requirement to build an
<code>HttpClientFactory</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
More information can be found in the section that covers <a href="#_entity_converters">entity converters</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientfactory">3.2. HttpClientFactory</h3>
<div class="paragraph">
<p>An <code>HttpClient</code> is used to make requests, but should not be created directly. HTTP client providers contain
implementations of <code>HttpClient</code> specific to the HTTP client being wrapped. In order to ensure that authors do not need
to worry about what type of <code>HttpClient</code> needs to be created, an <code>HttpClientFactory</code> should be used to create the client
instances using the <code>createHttpClient()</code> method.</p>
</div>
<div class="paragraph">
<p>The <code>HttpClientFactory</code> interface is implemented by provider libraries and can be created directly. As an example,
the Jersey 1.x module&#8217;s factory can be used to create a Jersey-specific <code>HttpClient</code> instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">// Note that EntityConverterManager is required by HttpClientFactory implementations
HttpClientFactory factory = new JerseyHttpClientFactory(entityConverterManager);
HttpClient client = factory.createHttpClient();</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>HttpClientFactory</code> can be registered as a Spring bean when applications utilize Spring Framework so that it
may be injected as necessary. If Spring is not in use, the <code>HttpClientFactoryHolder</code> may be used as a singleton holder
for the <code>HttpClientFactory</code> instance.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each provider library declares its own <code>HttpClientFactory</code> implementation, which can be looked up in the following
table.</p>
</div>
<table class="tableblock frame-all grid-rows stretch">
<caption class="title">Table 2. HttpClientFactory Classes By Provider</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Provider</th>
<th class="tableblock halign-left valign-top">HttpClientFactory Class</th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-requests-core</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.budjb.httprequests.reference.ReferenceHttpClientFactory</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-requests-jersey1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.budjb.httprequests.jersey1.JerseyHttpClientFactory</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-requests-jersey2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.budjb.httprequests.jersey2.JerseyHttpClientFactory</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">http-requests-httpcomponents-client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>com.budjb.httprequests.httpcomponents.client.HttpComponentsClientFactory</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_httprequest">3.3. HttpRequest</h3>
<div class="paragraph">
<p>The <code>HttpRequest</code> object is used to configure an HTTP request. The properties contained within <code>HttpRequest</code> both define
a request and influence the behavior of the HTTP client.</p>
</div>
<table class="tableblock frame-all grid-rows stretch">
<caption class="title">Table 3. HttpRequest Properties</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 62.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URI of the request, including the protocol,
                                                              port, host, and path.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>headers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MultiValueMap</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request headers. Individual header names can
                                                              contain multiple values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>queryParameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MultiValueMap</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query parameters of the request. Individual query
                                                              parameters can contain multiple values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>connectionTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of time, in milliseconds, the request
                                                              should wait for the connection to time out. A value
                                                              <code>0</code> means there is no timeout.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readTimeout</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The amount of time, in milliseconds, the request
                                                              should wait to time out while waiting for content.
                                                              A value`0` means there is no timeout.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sslValidated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether SSL certification trust chains and host
                                                              names should be validated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>followRedirects</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Whether the HTTP client should follow redirect
                                                              responses received from the host.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bufferResponseEntity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>true</code>, the entity is read completely from
                                                              the response and the response is
                                                              closed. This allows the entity to be retrieved
                                                              multiple times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filters</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filters to apply to the request.</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_building_an_httprequest">3.3.1. Building an HttpRequest</h4>
<div class="paragraph">
<p>The <code>HttpRequest</code> supports a fluent syntax, where calls to setter methods may be chained.</p>
</div>
<div class="paragraph">
<p>Using the builder syntax, an <code>HttpRequest</code> object may be created like the following:</p>
</div>
<div class="listingblock">
<div class="title">HttpRequest Example</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">HttpRequest request = new HttpRequest()
    .setUri("http://example.com")
    .setHeader("Accept", "application/json")
    .setFollowRedirects(false);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_behavior_modification">3.3.2. Behavior Modification</h4>
<div class="paragraph">
<p>As mentioned before, some of the <code>HttpRequest</code> properties influence the behavior of the HTTP client. This section will
identify those properties and their behavior.</p>
</div>
<div class="sect4">
<h5 id="_followredirects">followRedirects</h5>
<div class="paragraph">
<p>By default, the HTTP client will follow redirect responses sent by the server by repeating the request against the new
HTTP URI. If this behavior should be avoided, it can be disabled by setting <code>followRedirects</code> to false.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When this happens, the <code>HttpResponse</code> object will likely not contain much information other than the HTTP status
code.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_bufferresponseentity">bufferResponseEntity</h5>
<div class="paragraph">
<p>When this is enabled, the response entity (if there is one) is automatically read from the HTTP connection&#8217;s
<code>InputStream</code> into a byte array stored in the <code>HttpResponse</code> object, and the stream is closed. This allows the entity
to be retrieved multiple times. When disabled, the response <code>InputStream</code> may typically only be read only once.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
It is very important that the response is closed if this functionality is disabled, or the underlying system
resources may not be freed up. This is true even when an HTTP status exception is thrown via the
<code>HttpStatusExceptionFilter</code>, which includes the <code>HttpResponse</code> in the thrown exception.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_sslvalidated">sslValidated</h5>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Disabling this functionality makes HTTP requests inherently insecure and is not recommended in situations where
host identity verification is important, such as production environments.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>By default, all SSL and TLS connections go through the standard validation steps, and may throw an <code>IOException</code> if
SSL validation fails. Sometimes, authors may wish to bypass this functionality when they know SSL validation will fail
but they still trust the remote host. When this property is set to true, SSL validation will not occur and the request
should succeed unless there&#8217;s a more serious SSL issue encountered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Disabling SSL validation is a great tool for quickly deploying development environments with self-signed
certificates that are not stored in Java keystores.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_httpentity">3.4. HttpEntity</h3>
<div class="paragraph">
<p>An <code>HttpEntity</code> is the container object for an entity to be used for a request or returned with a response. The
<code>HttpEntity</code> class itself contains an <code>InputStream</code>, which contains the actual content of the entity, and optionally
a content type and character set.</p>
</div>
</div>
<div class="sect2">
<h3 id="_httpclient">3.5. HttpClient</h3>
<div class="paragraph">
<p>The <code>HttpClient</code> contains many methods used to initiate requests. The <code>HttpClient</code> should not be created directly, but
rather the use of the <code>createHttpClient</code> method in <code>HttpClientFactory</code>.</p>
</div>
<div class="paragraph">
<p>Methods in the client are named after the HTTP verb or method to be used for the request.</p>
</div>
<div class="ulist">
<div class="title">Supported HTTP Methods</div>
<ul>
<li>
<p>GET</p>
</li>
<li>
<p>POST</p>
</li>
<li>
<p>PUT</p>
</li>
<li>
<p>DELETE</p>
</li>
<li>
<p>TRACE</p>
</li>
<li>
<p>OPTIONS</p>
</li>
<li>
<p>HEAD</p>
</li>
<li>
<p>PATCH</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_client_methods">3.5.1. Client Methods</h4>
<div class="paragraph">
<p>Each HTTP verb has a corresponding method in <code>HttpClient</code>. Each method takes either an <code>HttpRequest</code>, or a <code>String</code> for
simple requests. All methods in the client have the following methods.</p>
</div>
<div class="listingblock">
<div class="title">HttpClient Common Method Structure</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">/**
 * Perform an HTTP request.
 *
 * @param request Request properties to use with the HTTP request.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException When an underlying IO exception occurs.
 */
HttpResponse method(HttpRequest request) throws IOException;

/**
 * Perform an HTTP request.
 *
 * @param uri URI of the request.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException        When an underlying IO exception occurs.
 * @throws URISyntaxException When the syntax of the request is incorrect.
 */
HttpResponse method(String uri) throws IOException, URISyntaxException;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some HTTP verbs support request entities (or bodies). Specifically, all HTTP verbs <strong>except</strong> GET and TRACE support
request entities. Entities may be provided with a few different types.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Certain HTTP verbs, such as <code>PATCH</code> and <code>DELETE</code>, have limited support both in provider HTTP clients and in
HTTP servers.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-rows stretch">
<caption class="title">Table 4. Request Entity Types</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HttpEntity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains an object that has already been serialized into an <code>InputStream</code>, and optionally
                           content type information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>InputStream</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains an object that has already been serialized, with no content type information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConvertingHttpEntity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains an object that will be serialized with the <code>EntityConverterManager</code>, and optionally
                           content type information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object that will be serialized with the <code>EntityConverterManager</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>HTTP verbs that support entities have additional methods defined in the <code>HttpClient</code>, with the following structure.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">/**
 * Perform an HTTP request with the given request entity.
 *
 * @param request Request properties to use with the HTTP request.
 * @param entity  An HTTP entity.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException When an underlying IO exception occurs.
 */
HttpResponse method(HttpRequest request, HttpEntity entity) throws IOException;

/**
 * Perform an HTTP request with the given request entity.
 *
 * @param uri    URI of the request.
 * @param entity An HTTP entity.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException        When an underlying IO exception occurs.
 * @throws URISyntaxException When the syntax of the request is incorrect.
 */
HttpResponse method(String uri, HttpEntity entity) throws IOException, URISyntaxException;

/**
 * Perform an HTTP request with the given input stream.
 *
 * @param request     Request properties to use with the HTTP request.
 * @param inputStream An {@link InputStream} containing the response body.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException When an underlying IO exception occurs.
 */
HttpResponse method(HttpRequest request, InputStream inputStream) throws IOException;

/**
 * Perform an HTTP request with the given input stream.
 *
 * @param uri         URI of the request.
 * @param inputStream An {@link InputStream} containing the response body.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException        When an underlying IO exception occurs.
 * @throws URISyntaxException When the syntax of the request is incorrect.
 */
HttpResponse method(String uri, InputStream inputStream) throws IOException, URISyntaxException;

/**
 * Perform an HTTP request with the given entity.
 *
 * The entity will be converted if an appropriate {@link EntityWriter} can be found. If no
 * writer can be found, an {@link UnsupportedConversionException} will be thrown.
 *
 * @param request Request properties to use with the HTTP request.
 * @param entity  Request entity.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException                    When an underlying IO exception occurs.
 * @throws UnsupportedConversionException When an error in entity conversion occurs.
 */
HttpResponse method(HttpRequest request, ConvertingHttpEntity entity) throws IOException, UnsupportedConversionException;

/**
 * Perform an HTTP request with the given entity.
 *
 * The entity will be converted if an appropriate {@link EntityWriter} can be found. If no
 * writer can be found, an {@link UnsupportedConversionException} will be thrown.
 *
 * @param uri    URI of the request.
 * @param entity Request entity.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException                    When an underlying IO exception occurs.
 * @throws URISyntaxException             When the syntax of the request is incorrect.
 * @throws UnsupportedConversionException When an error in entity conversion occurs.
 */
HttpResponse method(HttpRequest request, ConvertingHttpEntity entity) throws IOException, UnsupportedConversionException;

/**
 * Perform an HTTP request with the given entity.
 *
 * The entity will be converted if an appropriate {@link EntityWriter} can be found. If no
 * writer can be found, an {@link UnsupportedConversionException} will be thrown.
 *
 * @param request Request properties to use with the HTTP request.
 * @param entity  Request entity.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException                    When an underlying IO exception occurs.
 * @throws UnsupportedConversionException When an error in entity conversion occurs.
 */
HttpResponse method(HttpRequest request, Object entity) throws IOException, UnsupportedConversionException;

/**
 * Perform an HTTP request with the given entity.
 *
 * The entity will be converted if an appropriate {@link EntityWriter} can be found. If no
 * writer can be found, an {@link UnsupportedConversionException} will be thrown.
 *
 * @param uri    URI of the request.
 * @param entity Request entity.
 * @return A {@link HttpResponse} object containing the properties of the server response.
 * @throws IOException                    When an underlying IO exception occurs.
 * @throws URISyntaxException             When the syntax of the request is incorrect.
 * @throws UnsupportedConversionException When an error in entity conversion occurs.
 */
HttpResponse method(String uri, Object entity) throws IOException, URISyntaxException, UnsupportedConversionException;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example Without Request Entity</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">HttpResponse response = client.get("http://example.com/foo/bar");</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example With Request Entity</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">HttpResponse response = client.post("http://example.com/foo/bar", "content");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_handling_responses">3.6. Handling Responses</h3>
<div class="paragraph">
<p><code>HttpClient</code> request methods return an <code>HttpResponse</code> object that contains information about the response.</p>
</div>
<div class="sect3">
<h4 id="_httpresponse_properties">3.6.1. HttpResponse Properties</h4>
<table class="tableblock frame-all grid-rows stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP status code of the response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>headers</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MultiValueMap</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response headers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HttpEntity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response entity (may be <code>null</code>).</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
To ensure that all resources used during the request are released, it is critical that the response is
closed via the <code>HttpResponse.close()</code> method once the response is no longer needed.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_response_entities">3.6.2. Response Entities</h4>
<div class="paragraph">
<p>The response entity can be retrieved by using the <code>getEntity()</code> method of the <code>HttpResponse</code>, which return an
<code>HttpEntity</code> containing the entity. By default, the response entity, if available, is buffered and the response is
closed. Subsequent calls to retrieve the response entity will reproduce the entity an unlimited amount of times. If the
request properties disabled this functionality, the response&#8217;s entity can be read only once, but it does not require the memory space to buffer the entity in the <code>HttpResponse</code> object. Additionally, it
is important to close the response when this functionality is disabled.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
When <code>bufferResponseEntity</code> is <code>false</code>, it is very important that the <code>HttpResponse</code> is closed
when it is no longer needed. If it is not closed, underlying system resources may not be freed up. The <code>close()</code> method
can be called on the <code>HttpResponse</code> to properly clean up the request.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>HttpResponse</code> supports <a href="#_entity_converters">entity conversion</a> using the <code>getEntity(Class&lt;?&gt; type)</code> method. If an
entity reader is registered that supports the requested type, it will be converted and returned.</p>
</div>
<div class="listingblock">
<div class="title">Retrieving the Response Entity as an InputStream</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">HttpResponse response = client.get("https://example.com/api/foo_resource");

try {
    InputStream inputStream = response.getEntity();
    // do some work with the input stream
}
finally {
    response.close()
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Retrieving the Response Entity as a String</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">HttpResponse response = client.get("https://example.com/api/foo_resource");

try {
    String inputStream = response.getEntity(String.class);
}
finally {
    response.close();
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The above example assumes that an entity converter that can read the entity into a <code>String</code> is registered with
the <code>EntityConverterManager</code> that the <code>HttpClientFactory</code> was built with.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_filters">4. Filters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Filters may be added to the <code>HttpRequest</code> to modify or react to certain events in the lifecycle of an HTTP request.
There are various filter types available, each providing an injection point into the request lifecycle, as explained
below.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="images/filter-lifecycle.png" alt="HTTP Request Filter Chain">
</div>
<div class="title">Figure 1. HTTP Request Filter Chain</div>
</div>
<div class="sect2">
<h3 id="_requestfilter">4.1. RequestFilter</h3>
<div class="paragraph">
<p>Applications may need to intercept an HTTP request directly before the request is actually made to modify the request
in some manner. A great example of a use of this filter is the built-in <code>BasicAuthFilter</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">// Adding a BasicAuthFilter to the request will automatically apply the required
// headers for Basic Authentication.
HttpRequest request = new HttpRequest("https://example.com");
request.addFilter(new BasicAuthFilter('username', 'password'));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_outputstreamfilter">4.2. OutputStreamFilter</h3>
<div class="paragraph">
<p>This filter allows applications to modify the <code>OutputStream</code> sent to the actual HTTP connection before it is sent.
An example of a built-in filter that uses this functionality is the <code>GZIPFilter</code>, which wraps the output stream
in a <code>GZIPOutputStream</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_httpclientresponsefilter">4.3. HttpClientResponseFilter</h3>
<div class="paragraph">
<p>The response filter is called after a response has been received from the HTTP request. This filter provides an
opportunity to modify the <code>HttpResponse</code> before it is returned.</p>
</div>
</div>
<div class="sect2">
<h3 id="_retryfilter">4.4. RetryFilter</h3>
<div class="paragraph">
<p>The retry filter allows applications to determine if a request should be retried based on some criteria. If any
one retry filter determines that the request should be retried, the request will be submitted again until no more
retry filters request a retry.</p>
</div>
<div class="paragraph">
<p>A use case for this functionality is authentication schemes that provide an authentication token that can be reused
until it expires. A retry filter might be created for this type of authentication scheme that inspects the response
of a call to the service that requires the authentication token, and re-authenticates if the previous authentication
token has expired. Once a new authentication token is obtained, the original request can be retried with the updated
authentication token.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
There is a built-in <code>AuthenticationTokenHeaderFilter</code> class that creates a framework for this type of
authentication scheme.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_lifecyclefilter">4.5. LifecycleFilter</h3>
<div class="paragraph">
<p>This filter provides several integration points related to the lifecycle of the request. The interfaces includes
default, empty implementations of each available method so that only the methods a filter need only override the methods
it requires. Each of the methods in this interface as passed an <code>HttpContext</code>, which contains the request, method,
request entity, the response, and a property repository. This allows filters to maintain some state during the course
of the request. The methods available are as follows.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onStart</code> is called before any processing of the request is started.</p>
</li>
<li>
<p><code>onRequest</code> is called directly before the request is executed, and is the last chance to modify the request before it
is sent over the wire.</p>
</li>
<li>
<p><code>onResponse</code> is similar in purpose to <code>onRequest</code>, but is called once a response has been received.</p>
</li>
<li>
<p><code>onComplete</code> is called once the HTTP request has completed and no further retries have been requested. This is the
final filter opportunity before the response is returned to the caller.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_built_in_filters">4.6. Built-In Filters</h3>
<div class="paragraph">
<p>The library includes several built-in filters for common use cases.</p>
</div>
<div class="sect3">
<h4 id="_basicauthfilter">4.6.1. BasicAuthFilter</h4>
<div class="paragraph">
<p>The basic authentication filter provides simple basic auth functionality with a username and a password.</p>
</div>
</div>
<div class="sect3">
<h4 id="_gzipfilter">4.6.2. GZIPFilter</h4>
<div class="paragraph">
<p>The GZIP filter wraps the output of the request with a <code>GZIPOutputStream</code> so that the entity&#8217;s contents are compressed
with the GZIP algorithm. The appropriate <code>Content-Encoding</code> header is set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_deflatefilter">4.6.3. DeflateFilter</h4>
<div class="paragraph">
<p>The deflate filter wraps the output of the request with a <code>DeflateOutputStream</code> so that the entity&#8217;s contents are
compressed with the deflate algorithm. The appropriate <code>Content-Encoding</code> header is set.</p>
</div>
</div>
<div class="sect3">
<h4 id="_authenticationtokenheaderfilter">4.6.4. AuthenticationTokenHeaderFilter</h4>
<div class="paragraph">
<p>This filter is abstract and provides a framework for HTTP requests that require token authentication and follow the
flow:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If no authentication token is known, authenticate.</p>
</li>
<li>
<p>Make the HTTP request.</p>
</li>
<li>
<p>If HTTP status 401 is received, and no retries have been attempted, re-authenticate and request a retry.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The filter provides integration points so that authentication logic and authentication token header names can be
provided by concrete implementations of the filter.</p>
</div>
</div>
<div class="sect3">
<h4 id="_loggingfilter">4.6.5. LoggingFilter</h4>
<div class="paragraph">
<p>The logging filter captures the contents of the request and the response and logs it. The <code>LoggingFilter</code> itself is an
abstract class, and there are a couple bundled implementations.</p>
</div>
<div class="sect4">
<h5 id="_consoleloggingfilter">ConsoleLoggingFilter</h5>
<div class="paragraph">
<p>The <code>ConsoleLoggingFilter</code> is a concrete implementation of <code>LoggingFilter</code> that prints the contents of the log to the
Java console.</p>
</div>
</div>
<div class="sect4">
<h5 id="_slf4jloggingfilter">Slf4jLoggingFilter</h5>
<div class="paragraph">
<p>The <code>Slf4jLoggingFilter</code> is a concrete implementation of <code>LoggingFilter</code> that logs the contents of the log to an SLF4J
logger. The filter can be configured with a logger name to use, otherwise the fully-qualified class name of the logging
filter will be used. By default, the log is configured to log at the <code>TRACE</code> level. The filter can be configured to log
at a different level if desired.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_httpstatusexceptionfilter">4.6.6. HttpStatusExceptionFilter</h4>
<div class="paragraph">
<p>The <code>HttpStatusExceptionFilter</code> filter modifies how the response status is treated. When an HTTP status that
is not considered successful (that is, not in the 200-299 range), an exception representing that status code is thrown.
For example, if an <code>HTTP 404</code> is received, an <code>HttpNotFoundException</code> will be thrown.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use this functionality to create different error handling for expected error cases.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If no appropriate exception exists for the HTTP status code that is received, an <code>HttpStatusException</code> is thrown
instead. This exception is actually the superclass of all HTTP status specific exceptions.</p>
</div>
<div class="paragraph">
<p>These exceptions contain the following information about the response:</p>
</div>
<table class="tableblock frame-all grid-rows stretch">
<caption class="title">Table 5. HttpStatusException Properties</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP status code of the response, as an <code>Integer</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">response</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>HttpResponse</code> object containing details about the received response.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_entity_converters">5. Entity Converters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Entity converters are responsible for marshalling request and response entities to and from a byte stream. This
prevents applications from having to make separate calls to helper methods or classes to do the conversion.</p>
</div>
<div class="paragraph">
<p>Entity converters are registered with an <code>EntityConverterManager</code>, which is a requirement to create an
<code>HttpClientFactory</code>. This allows the <code>HttpClient</code> to marshal objects to use as request entities. The manager is
subsequently passed to <code>HttpResponse</code> objects so that it too may marshal response objects.</p>
</div>
<div class="sect2">
<h3 id="_entity_readers">5.1. Entity Readers</h3>
<div class="paragraph">
<p>Entity readers are responsible for marshalling the byte stream of a response entity into some other type of object.
Applications can create a new entity reader for a custom object type that contains the logic to read relevant
information from the byte stream and create the custom object from it, bound with the data from the response.</p>
</div>
<div class="paragraph">
<p>Entity readers should implement the <code>EntityReader</code> interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="_entity_writers">5.2. Entity Writers</h3>
<div class="paragraph">
<p>Entity writers are responsible for marshalling an object into a byte stream for use in a request. Much like entity
readers, entity writers provide applications a method to convert custom objects for use in a request without having to
handle that logic separately from the request call.</p>
</div>
<div class="paragraph">
<p>Entity writers should implement the <code>EntityWriter</code> interface.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Entity writers have the option to provide a default content type if it was able to marshal the entity. The
default content type is only used if one was not otherwise provided with the entity.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_built_in_converters">5.3. Built-In Converters</h3>
<div class="paragraph">
<p>The library contains several out of the box entity converters that may be used without including any other dependencies.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ByteArrayEntityReader</code></p>
</li>
<li>
<p><code>ByteArrayEntityWriter</code></p>
</li>
<li>
<p><code>FormDataEntityWriter</code></p>
</li>
<li>
<p><code>StringEntityReader</code></p>
</li>
<li>
<p><code>StringEntityWriter</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_jackson_converters">5.4. Jackson Converters</h3>
<div class="paragraph">
<p>The <code>http-requests-jackson</code> library adds entity converters for <code>List</code> and <code>Map</code> objects using the
Jackson[<a href="https://github.com/FasterXML/jackson" class="bare">https://github.com/FasterXML/jackson</a>] library. The following entity converters are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>JacksonListReader</code></p>
</li>
<li>
<p><code>JacksonMapReader</code></p>
</li>
<li>
<p><code>JacksonMapListWriter</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_groovy_converters">5.5. Groovy Converters</h3>
<div class="paragraph">
<p>The <code>http-requests-groovy</code> library adds entity converters specific to Groovy class types. The following
entity converters are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GStringEntityWriter</code></p>
</li>
<li>
<p><code>JsonEntityWriter</code></p>
</li>
<li>
<p><code>JsonEntityReader</code></p>
</li>
<li>
<p><code>XmlSlurperEntityReader</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the Groovy JSON converters are in use, the Jackson library is redundant. The groovy variants utilize
<code>JsonSlurper</code> and <code>JsonBuilder</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spring_boot_integration">6. Spring Boot Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>http-requests-spring</code> is available to automatically configure the various library components to the application
context as Spring beans. It supports automatic entity converter registry for all entity converters that are registered
as beans, and it automatically configures the <code>HttpClientFactory</code> instance as a bean depending on which provider is
present on the classpath.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Auto configuration must be enabled for the HTTP requests components to be automatically registered.
This can be enabled with the <code>EnableAutoConfiguration</code> annotation on the main application class or a <code>Configuration</code>
class. Alternatively, the <code>HttpRequestsAutoConfiguration</code> configuration class may be configured as a bean to accomplish
automatic configuration of the library.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With the Spring support added, other beans may inject the <code>HttpClientFactory</code> (with the name <code>httpClientFactory</code>) bean
as a dependency.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples">7. Examples</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_using_the_library">7.1. Using the Library</h3>
<div class="paragraph">
<p>This example walks through creating the various components of the library and how they are used. The example is
admittedly verbose, so that each component is elaborated upon. In real world applications, the initialization code and
requests are much more likely to be separated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">// The entity converter manager is built and contains any entity converters
// needed by the application.
EntityConverterManager entityConverterManager = new EntityConverterManager();
entityConverterManager.add(new StringEntityReader());

// The HttpClientFactory is built, using the built-in Java client.
// The converter manager is passed in as a dependency.
HttpClientFactory httpClientFactory = ReferenceHttpClientFactory(entityConverterManager);

// The factory may be stored in the holder if other parts of the application need it.
//HttpClientFactoryHolder.setHttpClientFactory(httpClientFactory);

// An HttpClient is created from the factory.
HttpClient client = httpClientFactory.createHttpClient();

try {
    // Make the HTTP request, and capture the response.
    HttpResponse response = client.get("https://reqres.in/api/users");

    // Marshal the response entity as a String (since the StringEntityReader was registered
    // with the EntityConverterManager above).
    String result = response.getEntity(String.class);

    // Print the result.
    System.out.println("HTTP response is:\n" + result);
}
catch (Exception e) {
    System.out.println("unexpected exception occurred");
    e.printStackTrace();
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_spring_integration">7.2. Using Spring Integration</h3>
<div class="paragraph">
<p>Using the Spring Boot integration removes the need for applications to bootstrap the <code>HttpClientFactory</code>, due to the
automatic configuration of the library&#8217;s beans. The above example is significantly simplified in the Spring Boot
example below. Notice that the code does not create an <code>EntityConverterManager</code>, register entity converters with it, or
create the <code>HttpClientFactory</code>. This is all handled via the Spring library.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@SpringBootApplication
public class SpringBootDemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(SpringBootDemoApplication.class, args);
    }

    /**
     * The command line runner is a simple way to run some code just as the application
     * has started up.
     *
     * For this example, the commandLineRunner bean simply takes the httpClientFactory
     * bean as a dependency and makes a request.
     */
    @Bean
    CommandLineRunner commandLineRunner(HttpClientFactory httpClientFactory) {
        return args -&gt; {
            // Create the client.
            HttpClient client = httpClientFactory.createHttpClient();

            // Make the request.
            HttpResponse response = client.get("https://reqres.in/api/users");

            // Marshal the response entity as a String.
            String result = response.getEntity(String.class);

            // Print the result.
            System.out.println("HTTP response is:\n" + result);
        };
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_additional_samples">7.3. Additional Samples</h3>
<div class="paragraph">
<p>More samples can be found in the <a href="https://github.com/budjb/http-requests-samples">samples project</a> on GitHub.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing">8. Testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since it is not ideal to make actual HTTP requests while performing unit tests,
a mock library exists that allows tests to inject responses for expected HTTP requests
made by the code being tested. Using the built-in request mocking functionality avoids
the need to use dynamically generated mocking and stubbing libraries such as Mockito
or Spock.</p>
</div>
<div class="sect2">
<h3 id="_request_mocks">8.1. Request Mocks</h3>
<div class="paragraph">
<p>A request mock contains the details about a potential HTTP request that should have a
mocked response. The <code>RequestMock</code> object contains most of the same properties that
a typical <code>HttpRequest</code> does, such as request URI, headers, and query parameters,
as well as some additional properties, such as the HTTP method that should match.</p>
</div>
<div class="paragraph">
<p>It also includes properties about the response, such as response status code, headers,
and the response entity.</p>
</div>
<div class="paragraph">
<p>The minimal requirement for a mock to match a request is that the URI must match the
request. If a mock has other details set, such as request headers, HTTP method,  or
query parameters, those also must match. If they are not specified in the mock, they
are not considered as part of the match criteria. This allows tests to be as specific
or not as they need to be.</p>
</div>
<div class="paragraph">
<p>Mocks that match requests will have their counters incremented each time a match occurs.
The <code>RequestMock</code> object exposes these details via the <code>called</code> and <code>getCalledCount</code>
methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a no matching mock is found for an HTTP request, and <code>UnmatchedRequestMockException</code>
will be thrown.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_mockhttpclientfactory">8.2. MockHttpClientFactory</h3>
<div class="paragraph">
<p>The <code>MockHttpClientFactory</code> class may be used in tests and injected into those objects
being tested. This factory implementation exposes the same interface as the other provider
libraries, and adds some additional methods specific to testing. Request mocks are
created via the <code>createMock</code> method, which returns and tracks an empty mock which may
be configured.</p>
</div>
<div class="paragraph">
<p>The factory exposes a method <code>allMocksCalled</code> that will return whether all created mocks
have been called at least once.</p>
</div>
</div>
<div class="sect2">
<h3 id="_example">8.3. Example</h3>
<div class="paragraph">
<p>Below is a simple Java object that makes an API request and returns the payload,
which is expected to be a simple <code>String</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">/**
* A test object that makes use of the HTTP requests library to fetch
* a string result from the API located at http://localhost/api.
*/
class TestObject {
    private final HttpClientFactory httpClientFactory;

    public TestObject(HttpClientFactory httpClientFactory) {
        this.httpClientFactory = httpClientFactory;
    }

    public String makeApiCall() {
        return httpClientFactory.createHttpClient.get("http://localhost/api").getEntity(String.class);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This class may be tested using a framework, such as Junit or Spock. A Spock
example follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class FunctionalSpec extends Specification {
    /**
     * Mock HTTP client factory.
     */
    MockHttpClientFactory httpClientFactory

    /**
     * Entity converter manager.
     */
    EntityConverterManager entityConverterManager

    /**
     * Configure the environment before each test.
     */
    def setup() {
        // Create an entity converter manager with the Groovy JSON converters
        entityConverterManager = new EntityConverterManager([
            new JsonEntityWriter(),
            new JsonEntityReader()
        ])

        // Create the mock HTTP client factory with the entity converter manager above
        httpClientFactory = new MockHttpClientFactory(entityConverterManager)
    }

    def 'A simple mocked GET request returns the expected response entity'() {
        setup:
        // Create a mock for a specific URL with a response payload
        RequestMock mock = httpClientFactory
            .createMock()
            .setRequestUri('http://localhost/foo/bar')
            .setResponseEntity([
                foo: 'bar',
                baz: 'boz'
            ])

        TestObject object = new TestObject(httpClientFactory)

        when:
        // Make the API call through the test object
        def response = object.makeApiCall()

        then:
        // The mock should have been called at least once
        mock.called()

        // Since the above mock is the only one that was created, all mocks
        // should have been called from the client factory.
        httpClientFactory.allMocksCalled()

        // The response should have been returned and converted properly
        response == [
            foo: 'bar',
            baz: 'boz'
        ]
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">9. Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The changelog will be updated with release notes for each release of the library.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">2.0.7</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Ensure that a Content-Type specified in the request is preferred over the one provided
in the HTTP entity. This ensures that any Content-Type provided by a converter will not take
precedence over a user-specified one.</p>
</li>
<li>
<p>Add http-requests-mock library to enable easier testing of code using
the http-requests libraries.</p>
</li>
<li>
<p>Fix <code>NullPointerException</code> when sending a request with a null entity
(<a href="https://github.com/budjb/http-requests/issues/14">#14</a>).</p>
</li>
<li>
<p>Write a test to ensure that retrieving an entity when the response does not contain
an entity does not result in a <code>NullPointerException</code>
(<a href="https://github.com/budjb/http-requests/issues/13">#13</a>).</p>
</li>
<li>
<p>Throw a <code>URISyntaxException</code> instead of <code>NullPointerException</code> when a URI is not absolute
(<a href="https://github.com/budjb/http-requests/issues/12">#12</a>).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.6</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Make the build compatible with JDK 8.</p>
</li>
<li>
<p>Fix publishing for the jersey version 1 library.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.5</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Add handling for <code>null</code> values in multi-valued maps (which affects request headers, query parameters, and form fields).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.4</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Update Gradle version and build dependencies.</p>
</li>
<li>
<p>Update library dependencies to latest.</p>
</li>
<li>
<p>Make <code>EntityConverterManager</code> immutable. Converters need to be passed into its constructor going forward.</p>
</li>
<li>
<p>Introduce entity converter ordering to ensure that certain converters have higherh or lower priority
than others.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.3</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Fix a bug where the reference HTTP client threw an <code>IOException</code> when an error HTTP status code was returned
with no response entity.</p>
</li>
<li>
<p>Fix a bug where calling <code>HttpResponse.getEntity(Class)</code> threw a <code>NullPointerException</code> when no response
entity was returned.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.2</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Add <code>Closeable</code> support for filters. Any filter that implements <code>Closeable</code> are guaranteed to be closed.</p>
</li>
<li>
<p>Fix bug where the <code>LoggingFilter</code> threw a <code>NullPointerException</code> when no request entity is present.</p>
</li>
<li>
<p>Do not apply a port if none was specified using the reference HTTP client.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.1</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Close the underlying Apache HTTP client when the <code>HttpResponse</code> is closed.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2.0.0</dt>
<dd>
<p>The version 2.0 upgrade involved refactoring of the components of the library, with the aim of simplifying
the codebase and making the project more maintainable. Due to this, the change log for this version is
relatively lengthy.</p>
<div class="ulist">
<ul>
<li>
<p>The library has been ported from Groovy to Java. This was done to remove a required dependency and widen
the audience that might find value in the library. The Groovy functionality has been moved into its own
library.</p>
</li>
<li>
<p>Changed the Groovy DSL to use a new function-based delegate, bringing it in line with how Groovy DSLs
typically behave. Before, properties of the <code>HttpRequest</code> were assigned as properties. With the change,
properties are exposed as methods.</p>
</li>
<li>
<p>The <code>EntityConverterManager</code> is now a required dependency to <code>HttpClientFactory</code>. The same manager instance
is passed along to the <code>HttpClient</code> and <code>HttpResponse</code> objects to support object marshalling throughout the
stack. This differs from version 1.0 , where the set of entity converters may be modified in both the
<code>HttpClientFactory</code> and <code>HttpClient</code> separately.</p>
</li>
<li>
<p>Filters are no longer registered with the <code>HttpClientFactory</code> or <code>HttpClient</code>, but rather with an
<code>HttpRequest</code>. Since filters act on a request, it brings the registration of filters closer to to the context
in which they are used.</p>
</li>
<li>
<p>Properties that align to specific headers have been removed from the <code>HttpRequest</code> and <code>HttpResponse</code>. Of
course, these headers may be added to the request just as any other header would be. In particular, the
following have been removed:</p>
<div class="ulist">
<ul>
<li>
<p><code>contentType</code></p>
</li>
<li>
<p><code>accept</code></p>
</li>
<li>
<p><code>allow</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Introduced the <code>http-requests-groovy</code> library, which contains the Groovy DSL extensions to <code>HttpRequest</code> and
Groovy specific entity converters.</p>
</li>
<li>
<p>Introduced the <code>http-requests-spring</code> library, which adds automatic configuration for the various libraries
contained in the http-requests project.</p>
</li>
<li>
<p>Introduced the <code>http-requests-jackson</code> library, which adds <code>Map</code> and <code>List</code> entity converters using Jackson.</p>
</li>
<li>
<p>Added <code>ConvertingHttpEntity</code> for objects that should be marshalled, so that a content type may also be provided.</p>
</li>
<li>
<p>Added a <a href="https://github.com/budjb/http-requests-samples">samples project</a> in GitHub with a collection of example
applications demonstrating various aspects of the library.</p>
</li>
<li>
<p>Removed the Grails 3 plugin.</p>
</li>
<li>
<p>Add support for HTTP PATCH. Whether the verb works or not is dependent on the underlying HTTP client.</p>
</li>
<li>
<p>Add entity support to HTTP DELETE. Whether this works or not is dependent on the underlying HTTP client <strong>and</strong>
the HTTP server the request is sent to.</p>
</li>
<li>
<p>All artifacts are now deployed to both jcenter and Maven Central.</p>
</li>
<li>
<p>Added query parameter support to the <code>LoggingFilter</code> (<a href="https://github.com/budjb/http-requests/issues/10">#10</a>).</p>
</li>
<li>
<p>Fixed <code>HttpRequest</code> clone issue where paths with special characters would cause a URISyntaxException
(<a href="https://github.com/budjb/http-requests/issues/7">#7</a>).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">1.0.2</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Remove default character set from the <code>HttpRequest</code>.</p>
</li>
<li>
<p>Change default conversion character set from <code>UTF-8</code> to <code>ISO-8859-1</code> (per HTTP 1.1 spec).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">1.0.1</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Add missing <code>@DelegatesTo</code> annotation to a method taking a closure.</p>
</li>
<li>
<p>If a retry filter is registered with the client, the request entity is automatically
buffered so that it can be resent with subsequent requests.</p>
</li>
<li>
<p>Add a reference implementation of the client to avoid the need to include other provider
implementation modules.</p>
</li>
<li>
<p>Made the Grails 3.x plugin compatible with JDK 1.7.</p>
</li>
<li>
<p>Modify Grails 3.x plugin so that the classpath scanner prefers the non-built-in HttpClientFactory if another
provider is found.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">1.0.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Initial non-beta release of the library.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.0.7<br>
Last updated 2020-05-21 12:34:12 -0500
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>prettyPrint()</script>
</body>
</html>